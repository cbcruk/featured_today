---
import { Stories } from '@components/Stories'
import Layout from '@layouts/Layout.astro'
import { getStories } from '@lib/collection'
import { getDisplayFormat } from '@lib/date'
import { getCollection } from 'astro:content'

const dateCollection = await getCollection('dates')
const dateEntry = dateCollection.at(-1)!
const stories = await getStories(dateEntry.id)

export const prerender = true
---

<Layout title={getDisplayFormat('M월 D일 dddd', `${dateEntry.data.date}`)}>
  <Stories data={stories} />
</Layout>
